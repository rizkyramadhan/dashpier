(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{133:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAVCAYAAAByrA+0AAAA6UlEQVR4AWIgCgAaIYuEhoIYDD+4A+4b3OVILHF3X+LucBVOgLvVvT1C+tfzLNPF+PdlkszSHIYHYyYfeAuDkmOO3CILYBcgMWFcinzAYYwla5CoAI9Hhsjz9vAcnRoiz0jwhSHypDW8TIV4vNLB8zRmD8/TrQEekbpxYkhjUNXrXyZ4tA0qkYUF6oMUYz+8Is1SldQDOMqkd6xlogOgG2CEpfeBc4VK6sQIM+kL6VWKDoB2RA4x6Qd31SqpFVKA1fSLUaOSmgH7mfSvzVOd6ABoAuhj6d3ZskxqgORNCw8SytMrhtiPtToOna7yulnS/gMAAAAASUVORK5CYII="},281:function(e,t,n){e.exports=n.p+"static/media/back-icon-mask.6165c9d7.png"},90:function(e,t,n){"use strict";n.r(t);var i=n(11),r=n(20),a=n(41),o=n(12),s=n.n(o),l=n(13),u=n.n(l),c=n(3),p=n.n(c),d=n(5),h=n.n(d),f=n(9),v=n.n(f),g=n(7),m=n.n(g),y=n(10),b=n.n(y),k=n(1),x=n(18),w=n.n(x),T=n(6),S=n(8),C=n(2),E=n(27),P=n(55),_=n(32),N=n(58),V=n(109),R="/Users/brentvatne/coding/react-navigation-stack/src/views/StackView/createPointerEventsContainer.tsx",L=.01;function A(e){return function(t){function n(){var e,t;p()(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(t=v()(this,(e=m()(n)).call.apply(e,[this].concat(r)))).pointerEvents=t.computePointerEvents(),t.component=null,t.handleComponentRef=function(e){if(t.component=e,e&&"function"!=typeof e.setNativeProps)throw new Error("Component must implement method `setNativeProps`")},t.handlePositionChange=function(){if(t.component){var e=t.computePointerEvents();t.pointerEvents!==e&&(t.pointerEvents=e,t.component.setNativeProps({pointerEvents:e}))}},t}return b()(n,t),h()(n,[{key:"componentWillUnmount",value:function(){this.positionListener&&this.positionListener.remove()}},{key:"bindPosition",value:function(){this.positionListener&&this.positionListener.remove(),this.positionListener=new I(this.props.realPosition,this.handlePositionChange)}},{key:"computePointerEvents",value:function(){var e=this.props,t=e.navigation,n=e.realPosition,i=e.scene;if(i.isStale||t.state.index!==i.index)return i.index>t.state.index?"box-only":"none";var r=n.__getAnimatedValue()-t.state.index;return Math.abs(r)>L?"box-only":"auto"}},{key:"render",value:function(){return this.bindPosition(),this.pointerEvents=this.computePointerEvents(),k.createElement(e,s()({},this.props,{pointerEvents:this.pointerEvents,onComponentRef:this.handleComponentRef,__source:{fileName:R,lineNumber:95}}))}}]),n}(k.Component)}var I=function(){function e(t,n){p()(this,e),this.value=t,this.token=t.addListener(n)}return h()(e,[{key:"remove",value:function(){this.value.removeListener(this.token)}}]),e}(),B="/Users/brentvatne/coding/react-navigation-stack/src/views/StackView/StackViewCard.tsx";var O=function(e){function t(){return p()(this,t),v()(this,m()(t).apply(this,arguments))}return b()(t,e),h()(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.pointerEvents,r=e.style,a=e.position,o=e.transparent,l=e.scene,u=l.index,c=l.isActive,p=i.a.select({web:c,default:o||c?1:a.interpolate({inputRange:[u,u+1-1e-5,u+1],outputRange:[1,1,0],extrapolate:"clamp"})}),d=this.props.animatedStyle||{},h=d.shadowOpacity,f=d.overlayOpacity,v=w()(d,["shadowOpacity","overlayOpacity"]),g=S.a.flatten(r)||{},m=g.backgroundColor,y=w()(g,["backgroundColor"]);return k.createElement(N.a,{pointerEvents:n,onComponentRef:this.props.onComponentRef,style:[v,y],active:p,__source:{fileName:B,lineNumber:80}},!o&&h?k.createElement(T.a.View,{style:[H.shadow,{shadowOpacity:h}],pointerEvents:"none",__source:{fileName:B,lineNumber:88}}):null,k.createElement(T.a.View,s()({},function(e){return"ios"===i.a.OS?{accessibilityElementsHidden:!e}:"android"===i.a.OS?{importantForAccessibility:e?"yes":"no-hide-descendants"}:{}}(c),{style:[o?H.transparent:H.card,m&&"transparent"!==m?{backgroundColor:m}:null],__source:{fileName:B,lineNumber:93}}),t),f?k.createElement(T.a.View,{pointerEvents:"none",style:[H.overlay,{opacity:f}],__source:{fileName:B,lineNumber:105}}):null)}}]),t}(k.Component),H=S.a.create({card:{flex:1,backgroundColor:"#fff"},overlay:u()({},S.a.absoluteFillObject,{backgroundColor:"#000"}),shadow:{top:0,left:0,bottom:0,width:3,position:"absolute",backgroundColor:"#fff",shadowOffset:{width:-1,height:1},shadowRadius:5,shadowColor:"#000"},transparent:{flex:1,backgroundColor:"transparent"}}),M=A(O),G=n(23),F=n.n(G),W=n(76),D=n(334),z=S.a.create({title:u()({},i.a.select({ios:{fontSize:17,fontWeight:"600",color:"rgba(0, 0, 0, .9)",marginHorizontal:16},android:{fontSize:20,fontWeight:"500",color:"rgba(0, 0, 0, .9)",marginHorizontal:16},default:{fontSize:18,fontWeight:"400",color:"#3c4043"}}))}),Y=function(e){var t=e.style,n=w()(e,["style"]);return k.createElement(T.a.Text,s()({numberOfLines:1},n,{style:[z.title,t],accessibilityTraits:"header",__source:{fileName:"/Users/brentvatne/coding/react-navigation-stack/src/views/Header/HeaderTitle.tsx",lineNumber:8}}))},U=n(16),X=n(84),j=n(81),q=T.a.createAnimatedComponent(V.a),K=function(e){function t(){var e,n;p()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=v()(this,(e=m()(t)).call.apply(e,[this].concat(a)))).opacity=new T.a.Value(1),n.handleActiveStateChange=function(e){"android"!==i.a.OS&&T.a.spring(n.opacity,{stiffness:1e3,damping:500,mass:3,overshootClamping:!0,restDisplacementThreshold:.01,restSpeedThreshold:.01,toValue:e?n.props.activeOpacity:1,useNativeDriver:!0}).start(),n.props.onActiveStateChange&&n.props.onActiveStateChange(e)},n}return b()(t,e),h()(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.style,r=e.enabled,a=w()(e,["children","style","enabled"]);return k.createElement(q,s()({},a,{onActiveStateChange:this.handleActiveStateChange,style:[n,"ios"===i.a.OS&&r&&{opacity:this.opacity}],__source:{fileName:"/Users/brentvatne/coding/react-navigation-stack/src/views/BorderlessButton.tsx",lineNumber:40}}),t)}}]),t}(k.Component);K.defaultProps={activeOpacity:.3,borderless:!0};var Q="/Users/brentvatne/coding/react-navigation-stack/src/views/TouchableItem.tsx",J=function(e){function t(){return p()(this,t),v()(this,m()(t).apply(this,arguments))}return b()(t,e),h()(t,[{key:"render",value:function(){if("android"===i.a.OS&&i.a.Version>=21){var e=this.props,t=e.style,n=w()(e,["style"]);return k.createElement(X.a,s()({},n,{style:null,background:X.a.Ripple(this.props.pressColor,this.props.borderless),__source:{fileName:Q,lineNumber:52}}),k.createElement(C.a,{style:t,__source:{fileName:Q,lineNumber:60}},k.Children.only(this.props.children)))}return"ios"===i.a.OS?k.createElement(K,s()({hitSlop:{top:10,bottom:10,right:10,left:10},disallowInterruption:!0,enabled:!this.props.disabled},this.props,{__source:{fileName:Q,lineNumber:65}}),this.props.children):k.createElement(j.a,s()({},this.props,{__source:{fileName:Q,lineNumber:76}}),this.props.children)}}]),t}(k.Component);J.defaultProps={borderless:!1,pressColor:"rgba(0, 0, 0, .32)"};var Z=n(133),$=n.n(Z),ee="/Users/brentvatne/coding/react-navigation-stack/src/views/Header/BackButtonWeb.tsx";var te="/Users/brentvatne/coding/react-navigation-stack/src/views/Header/HeaderBackButton.tsx",ne=function(e){function t(){var e,n;p()(this,t);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(n=v()(this,(e=m()(t)).call.apply(e,[this].concat(r)))).state={},n.handleTextLayout=function(e){n.state.initialTextWidth||n.setState({initialTextWidth:e.nativeEvent.layout.x+e.nativeEvent.layout.width})},n.getTitleText=function(){var e=n.props,t=e.width,i=e.title,r=e.truncatedTitle,a=n.state.initialTextWidth;return null===i?null:i?a&&t&&a>t?r:i:r},n}return b()(t,e),h()(t,[{key:"renderBackImage",value:function(){var e=this.props,t=e.backImage,n=e.backTitleVisible,i=e.tintColor,r=this.getTitleText();if(k.isValidElement(t))return t;if(t){var a=t;return k.createElement(a,{tintColor:i,title:r,__source:{fileName:te,lineNumber:59}})}return k.createElement(W.a,{style:[ie.icon,!!n&&ie.iconWithTitle,!!i&&{tintColor:i}],source:$.a,fadeDuration:0,__source:{fileName:te,lineNumber:62}})}},{key:"maybeRenderTitle",value:function(){var e=this.props,t=e.allowFontScaling,n=e.backTitleVisible,i=e.titleStyle,r=e.tintColor,a=this.getTitleText();return n&&null!==a?k.createElement(U.a,{accessible:!1,onLayout:this.handleTextLayout,style:[ie.title,!!r&&{color:r},i],numberOfLines:1,allowFontScaling:!!t,__source:{fileName:te,lineNumber:105}},this.getTitleText()):null}},{key:"render",value:function(){var e=this.props,t=e.onPress,n=e.pressColorAndroid,r=e.title,a=e.disabled,o=k.createElement(J,{disabled:a,accessible:!0,accessibilityRole:"button",accessibilityComponentType:"button",accessibilityLabel:r?r+", back":"Go back",accessibilityTraits:"button",testID:"header-back",delayPressIn:0,onPress:a?void 0:t,pressColor:n,style:[ie.container,a&&ie.disabled],borderless:!0,__source:{fileName:te,lineNumber:121}},k.createElement(C.a,{style:ie.container,__source:{fileName:te,lineNumber:135}},this.renderBackImage(),this.maybeRenderTitle()));return"ios"===i.a.OS?o:k.createElement(C.a,{style:ie.androidButtonWrapper,__source:{fileName:te,lineNumber:145}},o)}}]),t}(k.PureComponent);ne.defaultProps={pressColorAndroid:"rgba(0, 0, 0, .32)",tintColor:i.a.select({ios:"#037aff",web:"#5f6368"}),truncatedTitle:"Back",backImage:i.a.select({web:function(e){var t=e.tintColor;return k.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",__source:{fileName:ee,lineNumber:9}},k.createElement("path",{fill:t,d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z",__source:{fileName:ee,lineNumber:10}}))}})};var ie=S.a.create({disabled:{opacity:.5},androidButtonWrapper:u()({margin:13,backgroundColor:"transparent"},i.a.select({web:{marginLeft:21},default:{}})),container:{alignItems:"center",flexDirection:"row",backgroundColor:"transparent"},title:{fontSize:17,paddingRight:10},icon:i.a.select({ios:{backgroundColor:"transparent",height:21,width:13,marginLeft:9,marginRight:22,marginVertical:12,resizeMode:"contain",transform:[{scaleX:E.a.isRTL?-1:1}]},default:{height:24,width:24,margin:3,resizeMode:"contain",backgroundColor:"transparent",transform:[{scaleX:E.a.isRTL?-1:1}]}}),iconWithTitle:"ios"===i.a.OS?{marginRight:6}:{}}),re=ne,ae="/Users/brentvatne/coding/react-navigation-stack/src/views/Header/ModularHeaderBackButton.tsx",oe=function(e){function t(){var e,n;p()(this,t);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(n=v()(this,(e=m()(t)).call.apply(e,[this].concat(r)))).state={},n.onTextLayout=function(e){n.state.initialTextWidth||n.setState({initialTextWidth:e.nativeEvent.layout.x+e.nativeEvent.layout.width})},n.getTitleText=function(){var e=n.props,t=e.width,i=e.title,r=e.truncatedTitle,a=n.state.initialTextWidth;return null===i?null:i?a&&t&&a>t?r:i.length>8?r:i:r},n}return b()(t,e),h()(t,[{key:"renderBackImage",value:function(){var e=this.props,t=e.backImage,n=e.backTitleVisible,i=e.tintColor;if(k.isValidElement(t))return t;if(t){var r=t;return k.createElement(r,{tintColor:i,__source:{fileName:ae,lineNumber:50}})}return k.createElement(W.a,{style:[se.icon,!!n&&se.iconWithTitle,!!i&&{tintColor:i}],source:$.a,__source:{fileName:ae,lineNumber:53}})}},{key:"maybeRenderTitle",value:function(){var e=this.props,t=e.backTitleVisible,n=e.titleStyle,i=e.tintColor,r=this.getTitleText();if(!t||null===r)return null;var a=this.props.LabelContainerComponent;return k.createElement(a,{__source:{fileName:ae,lineNumber:92}},k.createElement(U.a,{accessible:!1,onLayout:this.onTextLayout,style:[se.title,!!i&&{color:i},n],numberOfLines:1,__source:{fileName:ae,lineNumber:93}},this.getTitleText()))}},{key:"render",value:function(){var e=this.props,t=e.onPress,n=e.title,i=this.props.ButtonContainerComponent;return k.createElement(J,{accessibilityComponentType:"button",accessibilityLabel:n?n+", back":"Go back",accessibilityTraits:"button",testID:"header-back",delayPressIn:0,onPress:t,style:se.container,borderless:!0,__source:{fileName:ae,lineNumber:114}},k.createElement(C.a,{style:se.container,__source:{fileName:ae,lineNumber:124}},k.createElement(i,{__source:{fileName:ae,lineNumber:125}},this.renderBackImage()),this.maybeRenderTitle()))}}]),t}(k.PureComponent);oe.defaultProps={tintColor:"#037aff",truncatedTitle:"Back"};var se=S.a.create({container:{alignItems:"center",flexDirection:"row",backgroundColor:"transparent",marginBottom:1,overflow:"visible"},title:{fontSize:17,paddingRight:10},icon:{height:21,width:12,marginLeft:9,marginRight:22,marginVertical:12,resizeMode:"contain",transform:[{scaleX:E.a.isRTL?-1:1}]},iconWithTitle:{marginRight:3}}),le=oe;var ue=function(e){var t=e.scene,n=e.scenes,i=t.index,r=n.length-1;if(!n[r].isActive){var a=n.findIndex((function(e){return e===t})),o=n.findIndex((function(e){return e.isActive})),s=n[o].index,l=n[r].index;return i!==s&&a===r?{first:Math.min(s,i-1),last:i+1}:i===s&&a===o?{first:i-1,last:Math.max(l,i+1)}:i===s||a>o?null:{first:i-1,last:i+1}}return{first:i-1,last:i+1}};function ce(e){return!e||null!==e.descriptor.options.header}var pe=function(e,t,n,i){return{inputRange:[t,t+.001,n-.9,n-.2,n,i-.001,i],outputRange:[0,ce(e[t])?0:1,ce(e[t])?0:1,ce(e[t])?.3:1,ce(e[n])?1:0,ce(e[i])?0:1,0],extrapolate:"clamp"}};var de=_.a.get("window").width/2-70-25;var he=_.a.get("window").width/2-70+25;var fe={opacity:1},ve={opacity:0};function ge(e){var t=e.navigation,n=e.scene;return t.state.index===n.index?fe:ve}var me=_.a.get("window").width;var ye={forLayout:function(e){var t=e.layout,n=e.position,i=e.scene,r=e.scenes;if("float"!==e.mode)return{};var a=function(e){return!e[e.length-1].isActive}(r),o=ue(e);if(!o)return{};var s=o.first,l=o.last,u=i.index,c=t.initWidth||_.a.get("window").width;if(a&&!ce(r[u])&&!ce(r[l])||!a&&!ce(r[s])&&!ce(r[u]))return{transform:[{translateX:c}]};var p=E.a.isRTL?-1:1;return{transform:[{translateX:n.interpolate({inputRange:[s,u,l],outputRange:[p*(ce(r[s])?0:c),p*(ce(r[u])?0:a?c:-c),p*(ce(r[l])?0:-c)],extrapolate:"clamp"})}]}},forLeft:function(e){var t=e.position,n=e.scene,i=e.scenes,r=ue(e);if(!r)return{opacity:0};var a=r.first,o=r.last,s=n.index;return{opacity:t.interpolate(pe(i,a,s,o))}},forLeftButton:function(e){var t=e.position,n=e.scene,i=e.scenes,r=ue(e);if(!r)return{opacity:0};var a=r.first,o=r.last,s=n.index,l=[a,a+.001,a+Math.abs(s-a)/2,s,o-Math.abs(o-s)/2,o-.001,o],u=[0,ce(i[a])?0:1,ce(i[a])?.3:1,ce(i[s])?1:0,ce(i[o])?.3:1,ce(i[o])?0:1,0];return{opacity:t.interpolate({inputRange:l,outputRange:u,extrapolate:"clamp"})}},forLeftLabel:function(e){var t=e.position,n=e.scene,i=e.scenes,r=ue(e);if(!r)return{opacity:0};var a=r.first,o=r.last,s=n.index,l=de;return{opacity:t.interpolate({inputRange:[a,a+.001,s-.35,s,s+.5,o-.001,o],outputRange:[0,ce(i[a])?0:1,ce(i[a])?0:1,ce(i[s])?1:0,ce(i[o])?.5:1,ce(i[o])?0:1,0],extrapolate:"clamp"}),transform:[{translateX:t.interpolate({inputRange:[a,a+.001,s,o-.001,o],outputRange:E.a.isRTL?[1.5*-l,ce(i[a])?1.5*-l:0,0,ce(i[o])?l:0,l]:[l,ce(i[a])?l:0,0,ce(i[o])?1.5*-l:0,1.5*-l],extrapolate:"clamp"})}]}},forCenterFromLeft:function(e){var t=e.position,n=e.scene,i=e.scenes,r=ue(e);if(!r)return{opacity:0};var a=r.first,o=r.last,s=n.index,l=he;return{opacity:t.interpolate({inputRange:[a,a+.001,s-.5,s,s+.7,o-.001,o],outputRange:[0,ce(i[a])?0:1,ce(i[a])?0:1,ce(i[s])?1:0,ce(i[o])?0:1,ce(i[o])?0:1,0],extrapolate:"clamp"}),transform:[{translateX:t.interpolate({inputRange:[a,a+.001,s,o-.001,o],outputRange:E.a.isRTL?[-l,ce(i[a])?-l:0,0,ce(i[o])?l:0,l]:[l,ce(i[a])?l:0,0,ce(i[o])?-l:0,-l],extrapolate:"clamp"})}]}},forCenter:function(e){var t=e.position,n=e.scene,i=e.scenes,r=ue(e);if(!r)return{opacity:0};var a=r.first,o=r.last,s=n.index;return{opacity:t.interpolate(pe(i,a,s,o))}},forRight:function(e){var t=e.position,n=e.scene,i=e.scenes,r=ue(e);if(!r)return{opacity:0};var a=r.first,o=r.last,s=n.index;return{opacity:t.interpolate(pe(i,a,s,o))}},forBackground:ge,forBackgroundWithInactiveHidden:ge,forBackgroundWithFade:function(e){var t=e.position,n=e.scene,i=ue(e);return i?{opacity:t.interpolate({inputRange:[i.first,n.index,i.last],outputRange:[0,1,0],extrapolate:"clamp"})}:{opacity:0}},forBackgroundWithTranslation:function(e){var t=e.position,n=e.scene,i=ue(e);if(!i)return{opacity:0};var r=i.first,a=i.last,o=n.index,s=[me,0,-me];return{transform:[{translateX:t.interpolate({inputRange:[r,o,a],outputRange:E.a.isRTL?s.reverse():s,extrapolate:"clamp"})}]}}},be="/Users/brentvatne/coding/react-navigation-stack/src/views/Header/Header.tsx",ke=i.a.select({ios:44,android:56,default:64}),xe=i.a.select({ios:20,default:0}),we=i.a.select({ios:70,default:56}),Te=i.a.select({ios:20,android:56,default:64}),Se=function(e,t,n){if("left"===e){var r={left:Te,right:Te};return t||(r.left="web"===i.a.OS?16:0),n||(r.right=0),r}if("center"===e){var a={left:we,right:we};return t||n||(a.left=0,a.right=0),a}},Ce=function(e){function t(){var e,r;p()(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(r=v()(this,(e=m()(t)).call.apply(e,[this].concat(o)))).state={widths:{}},r.renderTitleComponent=function(e){var t=r.props.layoutPreset,n=e.scene.descriptor.options,i=n.headerTitle;if(k.isValidElement(i))return i;var a=r.getHeaderTitleString(e.scene),o=n.headerTitleStyle,s=n.headerTintColor,l=n.headerTitleAllowFontScaling,c="center"===t?function(t){var n=t.nativeEvent.layout.width;r.setState((function(t){return{widths:u()({},t.widths,F()({},e.scene.key,n))}}))}:void 0,p=i&&"string"!=typeof i?i:Y;return k.createElement(p,{onLayout:c,allowFontScaling:!!l,style:[s?{color:s}:null,"center"===t?{textAlign:"center"}:{textAlign:"left"},o],__source:{fileName:be,lineNumber:218}},a)},r.renderLeftComponent=function(e){var t=e.scene.descriptor.options;if(k.isValidElement(t.headerLeft)||null===t.headerLeft)return t.headerLeft;if(t.headerLeft||0!==e.scene.index){var n=r.getBackButtonTitleString(e.scene),i=r.getTruncatedBackButtonTitle(e.scene),a=r.state.widths[e.scene.key]?(r.props.layout.initWidth-r.state.widths[e.scene.key])/2:void 0,o=t.headerLeft||re;return k.createElement(o,{onPress:function(){requestAnimationFrame((function(){e.scene.descriptor.navigation.goBack(e.scene.descriptor.key)}))},pressColorAndroid:t.headerPressColorAndroid,tintColor:t.headerTintColor,backImage:t.headerBackImage,title:n,truncatedTitle:i,backTitleVisible:r.props.backTitleVisible,allowFontScaling:t.headerBackAllowFontScaling,titleStyle:t.headerBackTitleStyle,layoutPreset:r.props.layoutPreset,width:a,scene:e.scene,__source:{fileName:be,lineNumber:264}})}},r.renderModularLeftComponent=function(e,t,n){var i=e.scene.descriptor,a=i.options,o=i.navigation,s=r.getBackButtonTitleString(e.scene),l=r.getTruncatedBackButtonTitle(e.scene),u=r.state.widths[e.scene.key]?(r.props.layout.initWidth-r.state.widths[e.scene.key])/2:void 0;return k.createElement(le,{onPress:function(){requestAnimationFrame((function(){o.goBack(e.scene.descriptor.key)}))},ButtonContainerComponent:t,LabelContainerComponent:n,backTitleVisible:r.props.backTitleVisible,pressColorAndroid:a.headerPressColorAndroid,tintColor:a.headerTintColor,backImage:a.headerBackImage,title:s,truncatedTitle:l,titleStyle:a.headerBackTitleStyle,layoutPreset:r.props.layoutPreset,width:u,scene:e.scene,__source:{fileName:be,lineNumber:307}})},r.renderRightComponent=function(e){return e.scene.descriptor.options.headerRight||null},r.renderLeft=function(e){var t=e.scene.descriptor.options,n=r.props.transitionPreset,i=e.style;return t.headerLeftContainerStyle&&(i=[i,t.headerLeftContainerStyle]),"uikit"!==n||t.headerBackImage||t.headerLeft||null===t.headerLeft?r.renderSubView(u()({},e,{style:i}),"left",r.renderLeftComponent,r.props.leftInterpolator):r.renderModularSubView(u()({},e,{style:i}),"left",r.renderModularLeftComponent,r.props.leftLabelInterpolator,r.props.leftButtonInterpolator)},r.renderTitle=function(e,t){var n=r.props,i=n.layoutPreset,a=n.transitionPreset,o=[{justifyContent:"center"===i?"center":"flex-start"},Se(i,t.hasLeftComponent,t.hasRightComponent),t.headerTitleContainerStyle];return r.renderSubView(u()({},e,{style:o}),"title",r.renderTitleComponent,"uikit"===a?r.props.titleFromLeftInterpolator:r.props.titleInterpolator)},r.renderRight=function(e){var t=e.scene.descriptor.options,n=e.style;return t.headerRightContainerStyle&&(n=[n,t.headerRightContainerStyle]),r.renderSubView(u()({},e,{style:n}),"right",r.renderRightComponent,r.props.rightInterpolator)},r.renderBackground=function(e){var t=e.scene,n=t.index,i=t.descriptor.options,a=r.props.navigation.state.index-n;return Math.abs(a)>2?null:r.renderSubView(u()({},e,{style:S.a.absoluteFill}),"background",(function(){return i.headerBackground}),r.props.backgroundInterpolator)},r.renderModularSubView=function(e,t,n,i,a){var o=e.scene,s=o.index,l=o.isStale,c=o.key;if(0!==s){var p=r.props.navigation.state.index-s;if(Math.abs(p)>2)return null;var d=n(e,(function(t){var n=t.children;return k.createElement(T.a.View,{style:[a(u()({},r.props,e))],__source:{fileName:be,lineNumber:464}},n)}),(function(t){var n=t.children;return k.createElement(T.a.View,{style:[i(u()({},r.props,e))],__source:{fileName:be,lineNumber:472}},n)}));if(null===d)return d;var h=0!==p||l?"none":"box-none";return k.createElement(C.a,{key:t+"_"+c,pointerEvents:h,style:[_e.item,_e[t],e.style],__source:{fileName:be,lineNumber:492}},d)}},r.renderSubView=function(e,t,n,i){var a=e.scene,o=a.index,s=a.isStale,l=a.key,c=r.props.navigation.state.index-o;if(Math.abs(c)>2)return null;var p=n(e);if(null==p)return null;var d=0!==c||s?"none":"box-none";return k.createElement(T.a.View,{pointerEvents:d,key:t+"_"+l,style:[_e.item,_e[t],e.style,i(u()({},r.props,e))],__source:{fileName:be,lineNumber:528}},p)},r.renderHeader=function(e){var t=e.scene.descriptor.options;if(null===t.header)return null;var a=r.renderLeft(e),o=r.renderRight(e),l=r.renderTitle(e,{hasLeftComponent:!!a,hasRightComponent:!!o,headerTitleContainerStyle:t.headerTitleContainerStyle}),u=r.props.transitionPreset,c={style:_e.header,key:"scene_"+e.scene.key};return t.headerLeft||t.headerBackImage||"ios"!==i.a.OS||"uikit"!==u?k.createElement(C.a,s()({},c,{__source:{fileName:be,lineNumber:573}}),l,a,o):k.createElement(D.a,s()({},c,{maskElement:k.createElement(C.a,{style:_e.iconMaskContainer,__source:{fileName:be,lineNumber:584}},k.createElement(W.a,{source:n(281),style:_e.iconMask,__source:{fileName:be,lineNumber:585}}),k.createElement(C.a,{style:_e.iconMaskFillerRect,__source:{fileName:be,lineNumber:589}})),__source:{fileName:be,lineNumber:581}}),l,a,o)},r}return b()(t,e),h()(t,[{key:"getHeaderTitleString",value:function(e){var t=e.descriptor.options;return"string"==typeof t.headerTitle?t.headerTitle:(t.title&&t.title,t.title)}},{key:"getLastScene",value:function(e){return this.props.scenes.find((function(t){return t.index===e.index-1}))}},{key:"getBackButtonTitleString",value:function(e){var t=this.getLastScene(e);if(!t)return null;var n=t.descriptor.options.headerBackTitle;return n||null===n?n:this.getHeaderTitleString(t)}},{key:"getTruncatedBackButtonTitle",value:function(e){var t=this.getLastScene(e);return t?t.descriptor.options.headerTruncatedBackTitle:null}},{key:"render",value:function(){var e,t,n=this,r=this.props,o=r.mode,s=r.scene,l=r.isLandscape;if("float"===o){var u={};this.props.scenes.forEach((function(e){u[e.index]=e}));var c=Object.values(u).map((function(e){return{position:n.props.position,scene:e}}));e=c.map((function(e){return n.renderHeader(e)})),t=c.map((function(e){return n.renderBackground(e)}))}else{var p={position:new T.a.Value(this.props.scene.index),scene:this.props.scene};e=this.renderHeader(p),t=this.renderBackground(p)}var d=s.descriptor.options,h=d.headerStyle,f=void 0===h?{}:h,v=S.a.flatten(f),g=function(e){return"ios"===i.a.OS?e&&!i.a.isPad?32:44:"android"===i.a.OS?56:64}(l),m=(v.alignItems,v.justifyContent,v.flex,v.flexDirection,v.flexGrow,v.flexShrink,v.flexBasis,v.flexWrap,v.position,v.padding,v.paddingHorizontal,v.paddingRight,v.paddingLeft,v.top,v.right,v.bottom,v.left,w()(v,["alignItems","justifyContent","flex","flexDirection","flexGrow","flexShrink","flexBasis","flexWrap","position","padding","paddingHorizontal","paddingRight","paddingLeft","top","right","bottom","left"]));var y=[d.headerTransparent?_e.transparentContainer:_e.container,{height:g},m],b=d.headerForceInset||{top:"always",bottom:"never",horizontal:"always"};return k.createElement(T.a.View,{style:[this.props.layoutInterpolator(this.props),"ios"!==i.a.OS||d.headerTransparent?null:{backgroundColor:m.backgroundColor||Pe}],__source:{fileName:be,lineNumber:696}},k.createElement(a.SafeAreaView,{forceInset:b,style:y,__source:{fileName:be,lineNumber:707}},t,k.createElement(C.a,{style:_e.flexOne,__source:{fileName:be,lineNumber:709}},e)))}}],[{key:"HEIGHT",get:function(){return ke+xe}}]),t}(k.PureComponent);Ce.defaultProps={layoutInterpolator:ye.forLayout,leftInterpolator:ye.forLeft,leftButtonInterpolator:ye.forLeftButton,leftLabelInterpolator:ye.forLeftLabel,titleFromLeftInterpolator:ye.forCenterFromLeft,titleInterpolator:ye.forCenter,rightInterpolator:ye.forRight,backgroundInterpolator:ye.forBackground};var Ee=i.a.select({android:{elevation:4},ios:{borderBottomWidth:S.a.hairlineWidth,borderBottomColor:"#A7A7AA"},default:{boxShadow:"0 2px 4px -1px rgba(0,0,0,0.2), 0 4px 5px 0 rgba(0,0,0,0.14), 0 1px 10px 0 rgba(0,0,0,0.12)"}}),Pe="#FFF",_e=S.a.create({container:u()({backgroundColor:Pe},Ee),transparentContainer:u()({position:"absolute",top:0,left:0,right:0},Ee,{borderBottomWidth:0,borderBottomColor:"transparent",elevation:0}),header:u()({},S.a.absoluteFillObject,{flexDirection:"row"}),item:{backgroundColor:"transparent"},iconMaskContainer:{flex:1,flexDirection:"row",justifyContent:"center"},iconMaskFillerRect:{flex:1,backgroundColor:"#d8d8d8",marginLeft:-5},iconMask:{height:23,width:14.5,marginLeft:8.5,marginTop:-2.5,alignSelf:"center",resizeMode:"contain",transform:[{scaleX:E.a.isRTL?-1:1}]},background:{},title:{bottom:0,top:0,position:"absolute",alignItems:"center",flexDirection:"row"},left:{left:0,bottom:0,top:0,position:"absolute",alignItems:"center",flexDirection:"row"},right:{right:0,bottom:0,top:0,position:"absolute",flexDirection:"row",alignItems:"center"},flexOne:{flex:1}}),Ne=Object(a.withOrientation)(Ce),Ve=1e-5;function Re(e){var t=e.navigation,n=e.scene,i=t.state.index===n.index,r=i?0:1e6;return{opacity:i?1:0,transform:[{translateX:r},{translateY:r}]}}var Le,Ae={forHorizontal:function(e){var t=e.layout,n=e.position,i=e.scene;if(!t.isMeasured)return Re(e);var r=ue(e);if(!r)return{opacity:0};var a=r.first,o=r.last,s=i.index,l=t.initWidth,u=n.interpolate({inputRange:[a,s,o],outputRange:E.a.isRTL?[-l,0,.3*l]:[l,0,-.3*l],extrapolate:"clamp"}),c=e.shadowEnabled?n.interpolate({inputRange:[a,s,o],outputRange:[0,.7,0],extrapolate:"clamp"}):null;return{transform:[{translateX:u}],overlayOpacity:e.cardOverlayEnabled?n.interpolate({inputRange:[s,o-.5,o,o+Ve],outputRange:[0,.07,.07,0],extrapolate:"clamp"}):null,shadowOpacity:c}},forVertical:function(e){var t=e.layout,n=e.position,i=e.scene;if(!t.isMeasured)return Re(e);var r=ue(e);if(!r)return{opacity:0};var a=r.first,o=r.last,s=i.index,l=t.initHeight;return{transform:[{translateY:n.interpolate({inputRange:[a,s,o],outputRange:[l,0,0],extrapolate:"clamp"})}]}},forFadeFromBottomAndroid:function(e){var t=e.layout,n=e.position,i=e.scene;if(!t.isMeasured)return Re(e);var r=ue(e);if(!r)return{opacity:0};var a=r.first,o=r.last,s=i.index,l=n.interpolate({inputRange:[a,a+.5,a+.9,s,o-1e-5,o],outputRange:[0,.25,.7,1,1,0],extrapolate:"clamp"}),u=.08*t.initHeight;return{opacity:l,transform:[{translateY:n.interpolate({inputRange:[a,s,o],outputRange:[u,0,0],extrapolate:"clamp"})}]}},forFadeToBottomAndroid:function(e){var t=e.layout,n=e.position,i=e.scene;if(!t.isMeasured)return Re(e);var r=ue(e);if(!r)return{opacity:0};var a=r.first,o=r.last,s=[a,i.index,o],l=n.interpolate({inputRange:s,outputRange:[0,1,1],extrapolate:"clamp"}),u=.08*t.initHeight;return{opacity:l,transform:[{translateY:n.interpolate({inputRange:s,outputRange:[u,0,0],extrapolate:"clamp"})}]}},forFade:function(e){var t=e.layout,n=e.position,i=e.scene;if(!t.isMeasured)return Re(e);var r=ue(e);if(!r)return{opacity:0};var a=r.first,o=r.last,s=i.index;return{opacity:n.interpolate({inputRange:[a,s,o],outputRange:[0,1,1],extrapolate:"clamp"})}},forNoAnimation:function(){return{}}},Ie=n(64).a.PlatformConstants,Be=function(){if(Ie&&Ie.reactNativeVersion){var e=Ie.reactNativeVersion,t=e.major,n=e.minor;return n>=50||0===t&&0===n}return!1},Oe={transitionSpec:Le=Be()?{timing:T.a.spring,stiffness:1e3,damping:500,mass:3,overshootClamping:!0,restDisplacementThreshold:.01,restSpeedThreshold:.01}:{duration:500,easing:P.a.bezier(.2833,.99,.31833,.99),timing:T.a.timing},screenInterpolator:Ae.forHorizontal,containerStyle:{backgroundColor:"#eee"}},He={transitionSpec:Le,screenInterpolator:Ae.forVertical,containerStyle:{backgroundColor:"#eee"}},Me={transitionSpec:{duration:350,easing:P.a.out(P.a.poly(5)),timing:T.a.timing},screenInterpolator:Ae.forFadeFromBottomAndroid},Ge={transitionSpec:{duration:150,easing:P.a.in(P.a.linear),timing:T.a.timing},screenInterpolator:Ae.forFadeToBottomAndroid},Fe={transitionSpec:{duration:0,timing:T.a.timing},screenInterpolator:Ae.forNoAnimation,containerStyle:{backgroundColor:"#eee"}};function We(e,t,n){return"ios"!==i.a.OS?t&&e.index<t.index?Ge:Me:n?He:Oe}var De={defaultTransitionConfig:We,getTransitionConfig:function(e,t,n,i){var r=We(t,n,i);return e?u()({},r,e(t,n,i)):r},SlideFromRightIOS:Oe,ModalSlideFromBottomIOS:He,FadeInFromBottomAndroid:Me,FadeOutToBottomAndroid:Ge,NoAnimation:Fe},ze=k.createContext(null);function Ye(e,t,n){return t<e?e:t>n?n:t}var Ue="/Users/brentvatne/coding/react-navigation-stack/src/views/StackView/StackViewLayout.tsx",Xe=_.a.get("window"),je=Xe.width,qe=Xe.height,Ke=!("ios"!==i.a.OS||i.a.isPad||i.a.isTVOS||812!==qe&&812!==je&&896!==qe&&896!==je),Qe=P.a.inOut(P.a.ease),Je=["center","left"],Ze=["fade-in-place","uikit"],$e=["toggle","fade","translate"],et=!0,tt=function(e){return"ios"===i.a.OS?e&&!i.a.isPad?32:Ke?88:64:"android"===i.a.OS?56:64},nt=function(e){function t(e){var n;return p()(this,t),(n=v()(this,m()(t).call(this,e))).immediateIndex=null,n.handleFloatingHeaderLayout=function(e){var t=e.nativeEvent.layout.height;t!==n.state.floatingHeaderHeight&&n.setState({floatingHeaderHeight:t})},n.handlePanGestureStateChange=function(e){var t=e.nativeEvent;if(t.oldState===V.d.ACTIVE){if(1===n.positionSwitch.__getValue())return;n.isMotionVertical()?n.handleReleaseVertical(t):n.handleReleaseHorizontal(t)}else t.state===V.d.ACTIVE&&(n.props.onGestureBegin&&n.props.onGestureBegin(),n.positionSwitch.setValue(0))},n.renderCard=function(e){var t=n.props,r=t.transitionProps,a=t.shadowEnabled,o=t.cardOverlayEnabled,l=t.transparentCard,c=t.cardStyle,p=n.transitionConfig.screenInterpolator,d=p&&p(u()({},r,{shadowEnabled:a,cardOverlayEnabled:o,position:n.position,scene:e})),h=e.descriptor.options,f=null!==h.header,v=n.getHeaderMode(),g=S.a.absoluteFill;return f&&"float"===v&&!h.headerTransparent&&(g=u()({},i.a.select({web:{},default:S.a.absoluteFillObject}),{paddingTop:n.state.floatingHeaderHeight})),k.createElement(M,s()({},r,{key:"card_"+e.key,position:n.position,realPosition:r.position,animatedStyle:d,transparent:l,style:[g,c],scene:e,__source:{fileName:Ue,lineNumber:971}}),n.renderInnerScene(e))},n.panGestureRef=k.createRef(),n.gestureX=new T.a.Value(0),n.gestureY=new T.a.Value(0),n.positionSwitch=new T.a.Value(1),T.a.subtract?n.gestureSwitch=T.a.subtract(1,n.positionSwitch):n.gestureSwitch=T.a.add(1,T.a.multiply(-1,n.positionSwitch)),n.gestureEvent=T.a.event([{nativeEvent:{translationX:n.gestureX,translationY:n.gestureY}}],{useNativeDriver:et}),n.state={floatingHeaderHeight:tt(e.isLandscape)},n}return b()(t,e),h()(t,[{key:"renderHeader",value:function(e,t){var n=e.descriptor.options.header;if(null===n&&"screen"===t)return null;if(k.isValidElement(n))return n;var i=n||function(e){return k.createElement(Ne,s()({},e,{__source:{fileName:Ue,lineNumber:222}}))},a=this.transitionConfig,o=a.headerLeftInterpolator,l=a.headerTitleInterpolator,c=a.headerRightInterpolator,p=a.headerBackgroundInterpolator,d=this.getHeaderBackgroundTransitionPreset();d&&(p=d);var h=this.props,f=h.transitionProps,v=w()(h,["transitionProps"]);return k.createElement(r.NavigationProvider,{value:e.descriptor.navigation,__source:{fileName:Ue,lineNumber:239}},i(u()({},v,f,{position:this.position,scene:e,mode:t,transitionPreset:this.getHeaderTransitionPreset(),layoutPreset:this.getHeaderLayoutPreset(),backTitleVisible:this.getHeaderBackTitleVisible(),leftInterpolator:o,titleInterpolator:l,rightInterpolator:c,backgroundInterpolator:p})))}},{key:"reset",value:function(e,t){"ios"===i.a.OS&&Be()?T.a.spring(this.props.transitionProps.position,{toValue:e,stiffness:6e3,damping:100,mass:3,overshootClamping:!0,restDisplacementThreshold:.01,restSpeedThreshold:.01,useNativeDriver:et}).start():T.a.timing(this.props.transitionProps.position,{toValue:e,duration:t,easing:Qe,useNativeDriver:et}).start()}},{key:"goBack",value:function(e,t){var n=this,a=this.props.transitionProps,o=a.navigation,s=a.position,l=a.scenes,u=Math.max(e-1,0);this.immediateIndex=u;var c=function(){n.immediateIndex=null;var e=l.find((function(e){return e.index===u+1}));e&&(o.dispatch(r.NavigationActions.back({key:e.route.key,immediate:!0})),o.dispatch(r.StackActions.completeTransition()))};"ios"===i.a.OS&&Be()?T.a.spring(s,{toValue:u,stiffness:7e3,damping:300,mass:3,overshootClamping:!0,restDisplacementThreshold:.01,restSpeedThreshold:.01,useNativeDriver:et}).start(c):T.a.timing(s,{toValue:u,duration:t,easing:Qe,useNativeDriver:et}).start(c)}},{key:"prepareAnimated",value:function(){this.props!==this.prevProps&&(this.prevProps=this.props,this.prepareGesture(),this.preparePosition(),this.prepareTransitionConfig())}},{key:"render",value:function(){this.prepareAnimated();var e=this.props.transitionProps,t=e.navigation.state.index,n=e.scenes,i=this.getHeaderMode(),r=null;if("float"===i){var a=e.scene;r=k.createElement(C.a,{style:it.floatingHeader,pointerEvents:"box-none",onLayout:this.handleFloatingHeaderLayout,__source:{fileName:Ue,lineNumber:361}},this.renderHeader(a,i))}return k.createElement(V.b,s()({},this.gestureActivationCriteria(),{ref:this.panGestureRef,onGestureEvent:this.gestureEvent,onHandlerStateChange:this.handlePanGestureStateChange,enabled:t>0&&this.isGestureEnabled(),__source:{fileName:Ue,lineNumber:372}}),k.createElement(T.a.View,{style:[it.container,this.transitionConfig.containerStyle],__source:{fileName:Ue,lineNumber:379}},k.createElement(ze.Provider,{value:this.panGestureRef,__source:{fileName:Ue,lineNumber:382}},k.createElement(N.b,{style:it.scenes,__source:{fileName:Ue,lineNumber:383}},n.map(this.renderCard)),r)))}},{key:"componentDidUpdate",value:function(e){var t=e.transitionProps.navigation.state,n=this.props.transitionProps.navigation.state;t.index!==n.index&&this.maybeCancelGesture()}},{key:"getGestureResponseDistance",value:function(){var e=this.props.transitionProps.scene.descriptor.options.gestureResponseDistance,t=void 0===e?{}:e;return this.isModal()?t.vertical||135:t.horizontal||50}},{key:"gestureActivationCriteria",value:function(){var e=this.props.transitionProps.layout,t=this.getGestureResponseDistance(),n=this.isMotionInverted();if(this.isMotionVertical()){var i=e.height.__getValue();return{maxDeltaX:15,minOffsetY:n?-5:5,hitSlop:n?{top:-i+t}:{bottom:-i+t}}}var r=-e.width.__getValue()+t;return{minOffsetX:n?-5:5,maxDeltaY:20,hitSlop:n?{left:r}:{right:r}}}},{key:"isGestureEnabled",value:function(){var e=this.props.transitionProps.scene.descriptor.options.gesturesEnabled;return"boolean"==typeof e?e:"ios"===i.a.OS}},{key:"isMotionVertical",value:function(){return this.isModal()}},{key:"isModal",value:function(){return"modal"===this.props.mode}},{key:"isMotionInverted",value:function(){var e=this.props.transitionProps.scene.descriptor.options.gestureDirection;return this.isModal()?"inverted"===e:"string"==typeof e?"inverted"===e:E.a.isRTL}},{key:"computeHorizontalGestureValue",value:function(e){var t=e.translationX,n=this.props.transitionProps,i=n.navigation,r=n.layout,a=i.state.index,o=r.width.__getValue();return Ye(a-1,a-(this.isMotionInverted()?-1*t:t)/o,a)}},{key:"computeVerticalGestureValue",value:function(e){var t=e.translationY,n=this.props.transitionProps,i=n.navigation,r=n.layout,a=i.state.index,o=r.height.__getValue();return Ye(a-1,a-(this.isMotionInverted()?-1*t:t)/o,a)}},{key:"maybeCancelGesture",value:function(){this.positionSwitch.setValue(1)}},{key:"prepareGesture",value:function(){if(!this.isGestureEnabled())return 1!==this.positionSwitch.__getValue()&&this.positionSwitch.setValue(1),void(this.gesturePosition=void 0);0!==this.props.transitionProps.layout.width.__getValue()&&0!==this.props.transitionProps.layout.height.__getValue()&&(this.isMotionVertical()?this.prepareGestureVertical():this.prepareGestureHorizontal())}},{key:"prepareGestureHorizontal",value:function(){var e=this.props.transitionProps.navigation.state.index;this.isMotionInverted()?this.gesturePosition=T.a.add(e,T.a.divide(this.gestureX,this.props.transitionProps.layout.width)).interpolate({inputRange:[e-1,e],outputRange:[e-1,e],extrapolate:"clamp"}):this.gesturePosition=T.a.add(e,T.a.multiply(-1,T.a.divide(this.gestureX,this.props.transitionProps.layout.width))).interpolate({inputRange:[e-1,e],outputRange:[e-1,e],extrapolate:"clamp"})}},{key:"prepareGestureVertical",value:function(){var e=this.props.transitionProps.navigation.state.index;this.isMotionInverted()?this.gesturePosition=T.a.add(e,T.a.divide(this.gestureY,this.props.transitionProps.layout.height)).interpolate({inputRange:[e-1,e],outputRange:[e-1,e],extrapolate:"clamp"}):this.gesturePosition=T.a.add(e,T.a.multiply(-1,T.a.divide(this.gestureY,this.props.transitionProps.layout.height))).interpolate({inputRange:[e-1,e],outputRange:[e-1,e],extrapolate:"clamp"})}},{key:"handleReleaseHorizontal",value:function(e){var t=this.props.transitionProps,n=t.navigation,i=t.position,r=t.layout,a=n.state.index,o=null==this.immediateIndex?a:this.immediateIndex,s=r.width.__getValue(),l=this.isMotionInverted()?-1:1,u=l*e.translationX,c=l*e.velocityX,p=s/500,d=Math.max(Math.abs(c),p),h=this.isMotionInverted()?(s-u)/d:u/d,f=this.isMotionInverted()?u/d:(s-u)/d,v=this.computeHorizontalGestureValue(e);return i.setValue(v),this.positionSwitch.setValue(1),c<-50?(this.props.onGestureCanceled&&this.props.onGestureCanceled(),void this.reset(o,h)):c>50?(this.props.onGestureEnd&&this.props.onGestureEnd(),void this.goBack(o,f)):void(v<=a-.5?(this.props.onGestureEnd&&this.props.onGestureEnd(),this.goBack(o,f)):(this.props.onGestureCanceled&&this.props.onGestureCanceled(),this.reset(o,h)))}},{key:"handleReleaseVertical",value:function(e){var t=this.props.transitionProps,n=t.navigation,i=t.position,r=t.layout,a=n.state.index,o=null==this.immediateIndex?a:this.immediateIndex,s=r.height.__getValue(),l=this.isMotionInverted(),u=l?-1:1,c=u*e.translationY,p=u*e.velocityY,d=s/500,h=Math.max(Math.abs(p),d),f=l?(s-c)/h:c/h,v=l?c/h:(s-c)/h,g=this.computeVerticalGestureValue(e);return i.setValue(g),this.positionSwitch.setValue(1),p<-50?(this.props.onGestureCanceled&&this.props.onGestureCanceled(),void this.reset(o,f)):p>50?(this.props.onGestureEnd&&this.props.onGestureEnd(),void this.goBack(o,v)):void(g<=a-.5?(this.props.onGestureEnd&&this.props.onGestureEnd(),this.goBack(o,v)):(this.props.onGestureCanceled&&this.props.onGestureCanceled(),this.reset(o,f)))}},{key:"getHeaderMode",value:function(){return this.props.headerMode?this.props.headerMode:"android"===i.a.OS||"modal"===this.props.mode?"screen":"float"}},{key:"getHeaderBackgroundTransitionPreset",value:function(){var e=this.props.headerBackgroundTransitionPreset;if(e)if($e.includes(e)){if("fade"===e)return ye.forBackgroundWithFade;if("translate"===e)return ye.forBackgroundWithTranslation;if("toggle"===e)return ye.forBackgroundWithInactiveHidden}else 0;return null}},{key:"getHeaderLayoutPreset",value:function(){var e=this.props.headerLayoutPreset;if(e){if(Je.includes(e))return e;0}return"ios"!==i.a.OS?"left":"center"}},{key:"getHeaderTransitionPreset",value:function(){if("ios"!==i.a.OS||"screen"===this.getHeaderMode())return"fade-in-place";var e=this.props.headerTransitionPreset;if(e){if(Ze.includes(e))return e;0}return"fade-in-place"}},{key:"getHeaderBackTitleVisible",value:function(){var e=this.props.headerBackTitleVisible,t=!("left"===this.getHeaderLayoutPreset()||"ios"!==i.a.OS);return"boolean"==typeof e?e:t}},{key:"renderInnerScene",value:function(e){var t=e.descriptor,n=t.navigation,i=(0,t.getComponent)(),a=this.props.screenProps,o=this.getHeaderMode();return"screen"===o?k.createElement(C.a,{style:it.container,__source:{fileName:Ue,lineNumber:886}},k.createElement(C.a,{style:it.scenes,__source:{fileName:Ue,lineNumber:887}},k.createElement(r.SceneView,{screenProps:a,navigation:n,component:i,__source:{fileName:Ue,lineNumber:888}})),this.renderHeader(e,o)):k.createElement(r.SceneView,{screenProps:a,navigation:n,component:i,__source:{fileName:Ue,lineNumber:899}})}},{key:"prepareTransitionConfig",value:function(){this.transitionConfig=De.getTransitionConfig(this.props.transitionConfig,u()({},this.props.transitionProps,{position:this.position}),this.props.lastTransitionProps,this.isModal())}},{key:"preparePosition",value:function(){this.gesturePosition?this.position=T.a.add(T.a.multiply(this.props.transitionProps.position,this.positionSwitch),T.a.multiply(this.gesturePosition,this.gestureSwitch)):this.position=this.props.transitionProps.position}}]),t}(k.Component),it=S.a.create({container:{flex:1,flexDirection:"column-reverse",overflow:"hidden"},scenes:{flex:1},floatingHeader:{position:i.a.select({default:"absolute",web:"fixed"}),left:0,top:0,right:0}}),rt=Object(a.withOrientation)(nt),at=n(15),ot=n.n(at),st=Object.prototype.hasOwnProperty;function lt(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}var ut=function(e,t){if(lt(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var r=0;r<n.length;r++)if(!st.call(t,n[r])||!lt(e[n[r]],t[n[r]]))return!1;return!0},ct="scene_";function pt(e,t){return e.index>t.index?1:e.index<t.index?-1:function(e,t){var n=e.length-t.length;return n>0?1:n<0?-1:e>t?1:-1}(e.key,t.key)}function dt(e,t){return e.key===t.key&&e.index===t.index&&e.isStale===t.isStale&&e.isActive===t.isActive&&function(e,t){if(!e||!t)return e===t;if(e.key!==t.key)return!1;return ut(e,t)}(e.route,t.route)}function ht(e,t,n,i){if(e.forEach((function(e){var t=e.route;i&&i[t.key]&&(e.descriptor=i[t.key])})),n===t)return e;var r=new Map,a=new Map,o=new Map;e.forEach((function(e){var t=e.key;e.isStale&&o.set(t,e),r.set(t,e)}));var s=new Set,l=t.routes;if(l.length>t.index+1&&(console.warn("StackRouter provided invalid state, index should always be the top route"),l=t.routes.slice(0,t.index+1)),l.forEach((function(e,t){var n=ct+e.key,r={index:t,isActive:!1,isStale:!1,key:n,route:e,descriptor:i&&i[e.key]};if(s.has(n))throw new Error("navigation.state.routes["+t+'].key "'+n+'" conflicts with another route!');s.add(n),o.has(n)&&o.delete(n),a.set(n,r)})),n){var c=n.routes;c.length>n.index+1&&(console.warn("StackRouter provided invalid state, index should always be the top route"),c=c.slice(0,n.index+1)),c.forEach((function(t,n){var r=ct+t.key;if(!a.has(r)){var s=e.find((function(e){return e.route.key===t.key})),l=s?s.descriptor:i[t.key];l&&o.set(r,{index:n,isActive:!1,isStale:!0,key:r,route:t,descriptor:l})}}))}var p=[],d=function(e){var t=e.key,n=r.has(t)?r.get(t):null;n&&dt(n,e)?p.push(n):p.push(e)};o.forEach(d),a.forEach(d),p.sort(pt);var h=0;if(p.forEach((function(e,n){var i=!e.isStale&&e.index===t.index;i!==e.isActive&&(p[n]=u()({},e,{isActive:i})),i&&h++})),1!==h)throw new Error("There should always be only one scene active, not "+h+".");return p.length!==e.length?p:p.some((function(t,n){return!dt(e[n],t)}))?p:e}var ft={duration:250,easing:P.a.inOut(P.a.ease),timing:T.a.timing},vt=function(e){function t(e){var n;p()(this,t),(n=v()(this,m()(t).call(this,e))).computeScenes=function(e,t){var i=ht(n.state.scenes,t.navigation.state,e.navigation.state,t.descriptors);if(t.navigation.state.isTransitioning||(i=yt(i)),t.screenProps!==n.props.screenProps&&n.setState({nextScenes:i}),i!==n.state.scenes)return i},n.handleLayout=function(e){var t=e.nativeEvent.layout,i=t.height,r=t.width;if(n.state.layout.initWidth!==r||n.state.layout.initHeight!==i){var a=u()({},n.state.layout,{initHeight:i,initWidth:r,isMeasured:!0});a.height.setValue(i),a.width.setValue(r);var o=u()({},n.state,{layout:a});n.transitionProps=gt(n.props,o),n.setState(o)}},n.handleTransitionEnd=function(){if(n.isComponentMounted){var e=n.prevTransitionProps;n.prevTransitionProps=void 0;var t=yt(n.state.scenes),i=u()({},n.state,{scenes:t});n.transitionProps=gt(n.props,i),n.setState(i,(function(){var t,i;return ot.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n.props.onTransitionEnd){r.next=5;break}if(!((t=n.props.onTransitionEnd(n.transitionProps,e))instanceof Promise)){r.next=5;break}return r.next=5,ot.a.awrap(t);case 5:n.queuedTransition?(i=n.queuedTransition.prevProps,n.queuedTransition=null,n.startTransition(i,n.props)):n.isTransitionRunning=!1;case 6:case"end":return r.stop()}}))}))}};var i={height:new T.a.Value(0),initHeight:0,initWidth:0,isMeasured:!1,width:new T.a.Value(0)},r=new T.a.Value(n.props.navigation.state.index);return n.positionListener=r.addListener((function(){})),n.state={layout:i,position:r,scenes:ht([],n.props.navigation.state,null,n.props.descriptors)},n.prevTransitionProps=void 0,n.transitionProps=gt(e,n.state),n.isComponentMounted=!1,n.isTransitionRunning=!1,n.queuedTransition=null,n}return b()(t,e),h()(t,[{key:"componentDidMount",value:function(){this.isComponentMounted=!0}},{key:"componentWillUnmount",value:function(){this.isComponentMounted=!1,this.positionListener&&this.state.position.removeListener(this.positionListener)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.isTransitionRunning?this.queuedTransition||(this.queuedTransition={prevProps:this.props}):this.startTransition(this.props,e)}},{key:"startTransition",value:function(e,t){var n=this,i=e.navigation.state.index!==t.navigation.state.index,r=this.computeScenes(e,t);if(!r)return this.prevTransitionProps=this.transitionProps,this.state.position.setValue(e.navigation.state.index),void this.handleTransitionEnd();var a=u()({},this.state,{scenes:r}),o=a.position,s=t.navigation.state.index;this.prevTransitionProps=this.transitionProps,this.transitionProps=gt(t,a);var l=this.transitionProps.navigation.state.isTransitioning;l&&i?l&&(this.isTransitionRunning=!0,this.setState(a,(function(){var e,r,a,l,c;return ot.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:if(!t.onTransitionStart){p.next=5;break}if(!((e=t.onTransitionStart(n.transitionProps,n.prevTransitionProps))instanceof Promise)){p.next=5;break}return p.next=5,ot.a.awrap(e);case 5:r=t.configureTransition?t.configureTransition(n.transitionProps,n.prevTransitionProps):null,a=u()({},ft,r),l=a.timing,delete a.timing,c=o.__getValue()!==s,i&&c?l(o,u()({},a,{toValue:t.navigation.state.index})).start((function(){requestAnimationFrame(n.handleTransitionEnd)})):n.handleTransitionEnd();case 11:case"end":return p.stop()}}))}))):this.setState(a,(function(){var e;return ot.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t.onTransitionStart){r.next=5;break}if(!((e=t.onTransitionStart(n.transitionProps,n.prevTransitionProps))instanceof Promise)){r.next=5;break}return r.next=5,ot.a.awrap(e);case 5:i&&o.setValue(s),n.handleTransitionEnd();case 7:case"end":return r.stop()}}))}))}},{key:"render",value:function(){return k.createElement(C.a,{onLayout:this.handleLayout,style:kt.main,__source:{fileName:"/Users/brentvatne/coding/react-navigation-stack/src/views/Transitioner.tsx",lineNumber:267}},this.props.render(this.transitionProps,this.prevTransitionProps))}}]),t}(k.Component);function gt(e,t){var n=e.navigation,i=t.layout,r=t.position,a=t.scenes,o=a.find(bt);if(!o)throw new Error("Could not find active scene");return{layout:i,navigation:n,position:r,scenes:a,scene:o,index:o.index}}function mt(e){return!e.isStale}function yt(e){var t=e.filter(mt);return t.length===e.length?e:t}function bt(e){return e.isActive}var kt=S.a.create({main:{flex:1}}),xt=vt,wt="/Users/brentvatne/coding/react-navigation-stack/src/views/StackView/StackView.tsx",Tt=!0,St={mode:"card",cardShadowEnabled:!0,cardOverlayEnabled:!1},Ct=function(e){function t(){var e,n;p()(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(n=v()(this,(e=m()(t)).call.apply(e,[this].concat(a)))).configureTransition=function(e,t){return u()({useNativeDriver:Tt},De.getTransitionConfig(n.props.navigationConfig.transitionConfig,e,t,"modal"===n.props.navigationConfig.mode).transitionSpec)},n.getShadowEnabled=function(){var e=n.props.navigationConfig;return e&&e.hasOwnProperty("cardShadowEnabled")?e.cardShadowEnabled:St.cardShadowEnabled},n.getCardOverlayEnabled=function(){var e=n.props.navigationConfig;return e&&e.hasOwnProperty("cardOverlayEnabled")?e.cardOverlayEnabled:St.cardOverlayEnabled},n.renderStackviewLayout=function(e,t){var i=n.props,r=i.screenProps,a=i.navigationConfig;return k.createElement(rt,s()({},a,{shadowEnabled:n.getShadowEnabled(),cardOverlayEnabled:n.getCardOverlayEnabled(),onGestureBegin:n.props.onGestureBegin,onGestureCanceled:n.props.onGestureCanceled,onGestureEnd:n.props.onGestureEnd,screenProps:r,transitionProps:e,lastTransitionProps:t,__source:{fileName:wt,lineNumber:103}}))},n.handleTransitionEnd=function(e,t){var i=n.props,a=i.navigationConfig,o=i.navigation,s=i.onTransitionEnd,l=void 0===s?a.onTransitionEnd:s,u=e.scene.route.key,c=o.state.routes[o.state.index].key===u;e.navigation.state.isTransitioning&&c&&o.dispatch(r.StackActions.completeTransition({key:o.state.key,toChildKey:u})),l&&l(e,t)},n}return b()(t,e),h()(t,[{key:"render",value:function(){return k.createElement(xt,{render:this.renderStackviewLayout,configureTransition:this.configureTransition,screenProps:this.props.screenProps,navigation:this.props.navigation,descriptors:this.props.descriptors,onTransitionStart:this.props.onTransitionStart||this.props.navigationConfig.onTransitionStart,onTransitionEnd:this.handleTransitionEnd,__source:{fileName:wt,lineNumber:40}})}},{key:"componentDidMount",value:function(){var e=this.props.navigation;e.state.isTransitioning&&e.dispatch(r.StackActions.completeTransition({key:e.state.key}))}}]),t}(k.Component);var Et=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(r.StackRouter)(e,t),o=Object(r.createNavigator)(Ct,n,t);return t.disableKeyboardHandling||"web"===i.a.OS||(o=Object(a.createKeyboardAwareNavigator)(o,t)),o};n.d(t,"Assets",(function(){return Pt})),n.d(t,"createStackNavigator",(function(){return Et})),n.d(t,"Header",(function(){return Ne})),n.d(t,"HeaderBackButton",(function(){return re})),n.d(t,"HeaderTitle",(function(){return Y})),n.d(t,"HeaderStyleInterpolator",(function(){return ye})),n.d(t,"StackView",(function(){return Ct})),n.d(t,"StackViewCard",(function(){return M})),n.d(t,"StackViewLayout",(function(){return rt})),n.d(t,"StackViewStyleInterpolator",(function(){return Ae})),n.d(t,"StackViewTransitionConfigs",(function(){return De})),n.d(t,"createPointerEventsContainer",(function(){return A})),n.d(t,"Transitioner",(function(){return xt})),n.d(t,"ScenesReducer",(function(){return ht})),n.d(t,"StackGestureContext",(function(){return ze}));var Pt=i.a.select({ios:[n(133),n(281)],default:[n(133)]})}}]);